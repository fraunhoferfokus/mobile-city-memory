function successLocationCallback(o){userLocation.moveToLocation(o.coords.latitude,o.coords.longitude),userLocation.positionMarker?userLocation.positionMarker.setPosition(o):userLocation.positionMarker=new google.maps.Marker({position:userLocation.map.getCenter(),map:userLocation.map,animation:google.maps.Animation.DROP,clickable:!1,icon:"static/img/marker_position.png"})}function errorLocationCallback(o){alert(o.id),userLocation.moveToLocation(this.DEFAULT_LAT,this.DEFAULT_LONG)}function Location(){this.DEFAULT_LAT=50.258,this.DEFAULT_LONG=10.965,this.DEFAULT_LOCATION=new google.maps.LatLng(50.258,10.965),this.currentLocation=this.DEFAULT_LOCATION,this.positionMarker=null;var o,t=!1;this.__defineGetter__("trackLocation",function(){return t}),this.__defineSetter__("trackLocation",function(a){Modernizr.geolocation&&a?o=navigator.geolocation.watchPosition(successLocationCallback,errorLocationCallback,{enableHighAccuracy:!0}):a||navigator.geolocation.clearWatch(o),t=a})}function initialize_Map(){userLocation.map=new google.maps.Map(document.getElementById(MAP_ELEMENT),mapOptions),userLocation.moveToCurrentLocationOrFallback(),userLocation.trackLocation=!0}var MAP_ELEMENT="map_canvas";Location.prototype.moveToCurrentLocationOrFallback=function(){Modernizr.geolocation?navigator.geolocation.getCurrentPosition(successLocationCallback,errorLocationCallback,{enableHighAccuracy:!0}):this.moveToLocation(this.DEFAULT_LAT,this.DEFAULT_LONG)},Location.prototype.moveToLocation=function(o,t){if(this.map){var a=new google.maps.LatLng(o,t);this.currentLocation=a,this.map.panTo(a)}};var userLocation=new Location,mapOptions={center:userLocation.DEFAULT_LOCATION,zoom:17,mapTypeId:google.maps.MapTypeId.SATELLITE,disableDefaultUI:!0,zoomControl:!0};